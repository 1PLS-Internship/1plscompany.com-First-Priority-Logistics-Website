{% extends 'base.html' %}
{% block content %}
<section class="bg-white py-16">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="lg:flex lg:items-start lg:space-x-10">
      <div class="lg:w-2/3">
        <p class="text-sm uppercase tracking-wide text-slate-600 font-semibold">Hiring</p>
        <h1 class="mt-2 text-3xl sm:text-4xl font-bold text-slate-900">Join a team that keeps cargo moving safely.</h1>
        <p class="mt-3 text-slate-700">We invest in training, equipment, and mentorship so every colleague can grow. Explore our current opportunities.</p>
        <div class="mt-6 grid md:grid-cols-2 gap-4">
          {% for job in jobs %}
          <div class="p-5 bg-white rounded-lg card-shadow">
            <h3 class="text-xl font-semibold text-slate-900">{{ job.title }}</h3>
            <p class="mt-2 text-sm text-slate-700">{{ job.summary }}</p>
            <ul class="mt-3 text-sm text-slate-700 list-disc list-inside space-y-1">
              {% for detail in job.details %}
              <li>{{ detail }}</li>
              {% endfor %}
            </ul>
          </div>
          {% endfor %}
        </div>
      </div>
      <div class="mt-10 lg:mt-0 lg:w-1/3">
        {% if error_message %}
          <div class="mb-4 p-4 bg-red-100 text-red-800 rounded-lg" role="alert">{{ error_message }}</div>
        {% endif %}
        {% with messages = get_flashed_messages() %}
          {% if messages %}
            <div class="mb-4 p-4 bg-green-100 text-green-800 rounded-lg" role="status">{{ messages[0] }}</div>
          {% endif %}
        {% endwith %}
        <form id="application-form" action="{{ url_for('hiring') }}" method="POST" novalidate class="p-6 bg-slate-50 rounded-lg border border-slate-200 space-y-4">
          <h3 class="text-lg font-semibold text-slate-900">Apply Now</h3>
          <div>
            <label class="block text-sm font-semibold text-slate-800" for="applicant_name">Name</label>
            <input required type="text" id="applicant_name" name="name" class="mt-1 w-full border border-slate-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500" placeholder="Your name" />
          </div>
          <div>
            <label class="block text-sm font-semibold text-slate-800" for="applicant_email">Email</label>
            <input required type="email" id="applicant_email" name="email" class="mt-1 w-full border border-slate-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500" placeholder="you@example.com" />
          </div>
          <div>
            <label class="block text-sm font-semibold text-slate-800" for="applicant_message">Message</label>
            <textarea required id="applicant_message" name="message" rows="4" class="mt-1 w-full border border-slate-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500" placeholder="Share your experience and desired role"></textarea>
          </div>
          <p class="client-error form-error text-sm" aria-live="polite"></p>
          <button type="submit" class="w-full bg-slate-900 text-white px-4 py-2 rounded-md font-semibold hover:bg-slate-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-900">Submit Application</button>
          <p class="text-xs text-slate-500">Applications are stored securely for review. A coordinator will respond shortly.</p>
        </form>
      </div>
    </div>
  </div>
</section>
{% endblock %}
